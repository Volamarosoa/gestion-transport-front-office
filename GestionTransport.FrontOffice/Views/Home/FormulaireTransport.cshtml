@{
ViewData["Title"] = "Nouveau Transport";
}

<div class="col-sm-12">
    <div class="card">
        <div class="card-header">
            <h5>Formulaire de transport</h5>
        </div>
        <div class="card-body">
            <form asp-action="FormulaireTransport" method="post">

                <!-- Informations Client -->
                <h5 class="mb-4">Informations client</h5>
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label class="floating-label" for="clientNom">Nom du client *</label>
                            <input type="text" class="form-control" id="clientNom" required>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label class="floating-label" for="clientEmail">Email *</label>
                            <input type="email" class="form-control" id="clientEmail" required>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label class="floating-label" for="clientTel">Téléphone *</label>
                            <input type="tel" class="form-control" id="clientTel" required>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label class="floating-label" for="clientType">Type de client</label>
                            <select class="form-control" id="clientType">
                                <option value="">Sélectionner...</option>
                                <option>Particulier</option>
                                <option>Entreprise</option>
                                <option>VIP</option>
                            </select>
                        </div>
                    </div>
                </div>

                <hr class="my-4">

                <!-- Détails du transport -->
                <h5 class="mb-4">Détails du transport</h5>
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label class="floating-label" for="adresseDepart">Adresse de départ *</label>
                            <input type="text" class="form-control" id="adresseDepart" placeholder="Adresse complète" required>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label class="floating-label" for="adresseArrivee">Adresse d'arrivée *</label>
                            <input type="text" class="form-control" id="adresseArrivee" placeholder="Adresse complète" required>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label class="floating-label" for="dateTransport">Date du transport *</label>
                            <input type="date" class="form-control" id="dateTransport" required>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label class="floating-label" for="heureTransport">Heure *</label>
                            <input type="time" class="form-control" id="heureTransport" required>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label class="floating-label" for="distance">Distance (km)</label>
                            <input type="number" class="form-control" id="distance" placeholder="0">
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label class="floating-label" for="typeMarchandise">Type de marchandise</label>
                            <select class="form-control" id="typeMarchandise">
                                <option value="">Sélectionner...</option>
                                <option>Colis</option>
                                <option>Palette</option>
                                <option>Meuble</option>
                                <option>Fragile</option>
                                <option>Autre</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="form-group">
                            <label class="floating-label" for="poids">Poids (kg)</label>
                            <input type="number" class="form-control" id="poids" placeholder="0">
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="form-group">
                            <label class="floating-label" for="volume">Volume (m³)</label>
                            <input type="number" step="0.01" class="form-control" id="volume" placeholder="0.00">
                        </div>
                    </div>
                </div>

                <hr class="my-4">

                <!-- Affectation -->
                <h5 class="mb-4">Affectation</h5>
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label class="floating-label" for="chauffeur">Chauffeur *</label>
                            <select class="form-control" id="chauffeur" required>
                                <option value="">Sélectionner un chauffeur...</option>
                                <option>Marc Dubois</option>
                                <option>Sophie Leroy</option>
                                <option>Luc Moreau</option>
                                <option>Julie Petit</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label class="floating-label" for="vehicule">Véhicule *</label>
                            <select class="form-control" id="vehicule" required>
                                <option value="">Sélectionner un véhicule...</option>
                                <option>Camion - AB-123-CD</option>
                                <option>Fourgon - EF-456-GH</option>
                                <option>Camionnette - IJ-789-KL</option>
                                <option>Utilitaire - MN-012-OP</option>
                            </select>
                        </div>
                    </div>
                </div>

                <hr class="my-4">

                <!-- Tarification -->
                <h5 class="mb-4">Tarification</h5>
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <label class="floating-label" for="prixBase">Prix de base (€) *</label>
                            <input type="number" step="0.01" class="form-control" id="prixBase" placeholder="0.00" required>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label class="floating-label" for="supplement">Supplément (€)</label>
                            <input type="number" step="0.01" class="form-control" id="supplement" placeholder="0.00">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label class="floating-label" for="prixTotal">Prix total (€)</label>
                            <input type="number" step="0.01" class="form-control" id="prixTotal" placeholder="0.00" readonly>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-12">
                        <div class="form-group">
                            <label for="notes">Notes / Instructions spéciales</label>
                            <textarea class="form-control" id="notes" rows="3" placeholder="Informations complémentaires..."></textarea>
                        </div>
                    </div>
                </div>

                <hr class="my-4">

                <!-- Options -->
                <h5 class="mb-3">Options</h5>
                <div class="row">
                    <div class="col-md-4">
                        <div class="custom-control custom-checkbox mb-2">
                            <input type="checkbox" class="custom-control-input" id="assurance">
                            <label class="custom-control-label" for="assurance">Assurance transport</label>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="custom-control custom-checkbox mb-2">
                            <input type="checkbox" class="custom-control-input" id="urgent">
                            <label class="custom-control-label" for="urgent">Transport urgent</label>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="custom-control custom-checkbox mb-2">
                            <input type="checkbox" class="custom-control-input" id="fragile">
                            <label class="custom-control-label" for="fragile">Marchandise fragile</label>
                        </div>
                    </div>
                </div>

                <hr class="my-4">

                <!-- Actions -->
                <div class="row">
                    <div class="col-md-12">
                        <button type="submit" class="btn btn-primary">
                            <i class="feather icon-save"></i> Enregistrer
                        </button>
                        <button type="button" class="btn btn-secondary" onclick="window.history.back()">
                            <i class="feather icon-x"></i> Annuler
                        </button>
                        <button type="reset" class="btn btn-warning">
                            <i class="feather icon-refresh-cw"></i> Réinitialiser
                        </button>
                    </div>
                </div>

            </form>
        </div>
    </div>
</div>

@section Scripts {
<script>
    // Calcul automatique du prix total
    document.addEventListener('DOMContentLoaded', function() {
        const prixBase = document.getElementById('prixBase');
        const supplement = document.getElementById('supplement');
        const prixTotal = document.getElementById('prixTotal');

        function calculerTotal() {
            const base = parseFloat(prixBase.value) || 0;
            const supp = parseFloat(supplement.value) || 0;
            prixTotal.value = (base + supp).toFixed(2);
        }

        prixBase.addEventListener('input', calculerTotal);
        supplement.addEventListener('input', calculerTotal);
    });
</script>
}